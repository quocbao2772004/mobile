Táº¥t nhiÃªn rá»“i! DÆ°á»›i Ä‘Ã¢y lÃ  luá»“ng hoáº¡t Ä‘á»™ng chi tiáº¿t cá»§a `MainActivity`, giáº£i thÃ­ch tá»«ng bÆ°á»›c má»™t cÃ¡ch tuáº§n tá»± tá»« khi mÃ n hÃ¬nh Ä‘Æ°á»£c má»Ÿ lÃªn.

Luá»“ng hoáº¡t Ä‘á»™ng cá»§a `MainActivity` cÃ³ thá»ƒ chia thÃ nh 4 giai Ä‘oáº¡n chÃ­nh: **Khá»Ÿi táº¡o**, **Táº£i dá»¯ liá»‡u ban Ä‘áº§u**, **Hiá»ƒn thá»‹ vÃ  chá»**, vÃ  **Xá»­ lÃ½ tÆ°Æ¡ng tÃ¡c**.

***

### **1. Giai Ä‘oáº¡n Khá»Ÿi táº¡o (Khi `onCreate()` Ä‘Æ°á»£c gá»i) ğŸš€**

ÄÃ¢y lÃ  bÆ°á»›c thiáº¿t láº­p toÃ n bá»™ "sÃ¢n kháº¥u" khi ngÆ°á»i dÃ¹ng vá»«a má»Ÿ mÃ n hÃ¬nh chÃ­nh.

1.  **Gáº¯n Giao Diá»‡n**: á»¨ng dá»¥ng láº¥y layout tá»« file `activity_main.xml` vÃ  váº½ nÃ³ lÃªn mÃ n hÃ¬nh.
2.  **Ãnh xáº¡ View**: CÃ¡c biáº¿n trong code (nhÆ° `rvNews`, `tvTitle`, `ivMenu`...) Ä‘Æ°á»£c káº¿t ná»‘i vá»›i cÃ¡c thÃ nh pháº§n tÆ°Æ¡ng á»©ng trong file layout XML.
3.  **Cáº¥u hÃ¬nh Danh sÃ¡ch**: `RecyclerView` (`rvNews`) Ä‘Æ°á»£c thiáº¿t láº­p Ä‘á»ƒ hiá»ƒn thá»‹ cÃ¡c má»¥c theo chiá»u dá»c tá»« trÃªn xuá»‘ng dÆ°á»›i.
4.  **Chuáº©n bá»‹ "NgÆ°á»i quáº£n lÃ½" (Adapter)**:
    * Hai "ngÆ°á»i quáº£n lÃ½" danh sÃ¡ch Ä‘Æ°á»£c táº¡o ra:
        * `newsAdapter`: Äá»ƒ quáº£n lÃ½ viá»‡c hiá»ƒn thá»‹ danh sÃ¡ch **bÃ i bÃ¡o**.
        * `clusterAdapter`: Äá»ƒ quáº£n lÃ½ viá»‡c hiá»ƒn thá»‹ danh sÃ¡ch **cá»¥m tin**.
    * Quan trá»ng nháº¥t, má»—i adapter Ä‘Æ°á»£c "dáº·n" ráº±ng: "Khi ngÆ°á»i dÃ¹ng nháº¥n vÃ o má»™t má»¥c nÃ o Ä‘Ã³, hÃ£y bÃ¡o láº¡i cho `MainActivity` báº±ng cÃ¡ch gá»i phÆ°Æ¡ng thá»©c `openDetail` (cho bÃ i bÃ¡o) hoáº·c `openClusterDetail` (cho cá»¥m tin)".
5.  **Thiáº¿t láº­p Cháº¿ Ä‘á»™ Máº·c Ä‘á»‹nh**: `newsAdapter` Ä‘Æ°á»£c gÃ¡n lÃ m ngÆ°á»i quáº£n lÃ½ máº·c Ä‘á»‹nh cho `RecyclerView`. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  khi á»©ng dá»¥ng má»Ÿ lÃªn, nÃ³ sáº½ luÃ´n á»Ÿ cháº¿ Ä‘á»™ xem danh sÃ¡ch bÃ i bÃ¡o.
6.  **Hiá»ƒn thá»‹ NgÃ y**: Láº¥y ngÃ y giá» hiá»‡n táº¡i cá»§a há»‡ thá»‘ng, Ä‘á»‹nh dáº¡ng láº¡i vÃ  hiá»ƒn thá»‹ lÃªn `TextView`.
7.  **GÃ¡n Sá»± kiá»‡n**:
    * GÃ¡n hÃ nh Ä‘á»™ng cho **icon Menu (`ivMenu`)**: Khi nháº¥n, gá»i hÃ m `toggleMode()`.
    * GÃ¡n hÃ nh Ä‘á»™ng cho **icon TÃ i khoáº£n (`btnAccount`)**: Khi nháº¥n, má»Ÿ mÃ n hÃ¬nh `ProfileActivity`.

***

### **2. Giai Ä‘oáº¡n Táº£i dá»¯ liá»‡u ban Ä‘áº§u (Gá»i `loadAllNews()`) â¬**

Ngay sau khi khá»Ÿi táº¡o xong, `onCreate()` gá»i hÃ m `loadAllNews()` Ä‘á»ƒ láº¥p Ä‘áº§y dá»¯ liá»‡u cho mÃ n hÃ¬nh.

1.  **Gá»i API Láº§n 1**: á»¨ng dá»¥ng gá»­i má»™t yÃªu cáº§u máº¡ng Ä‘áº¿n server Ä‘á»ƒ láº¥y danh sÃ¡ch cÃ¡c **bÃ i bÃ¡o** (`getArticles`).
2.  **Xá»­ lÃ½ Pháº£n há»“i Láº§n 1**:
    * Khi server tráº£ vá» danh sÃ¡ch bÃ i bÃ¡o, á»©ng dá»¥ng táº¡m thá»i lÆ°u nÃ³ vÃ o má»™t danh sÃ¡ch cÃ³ tÃªn lÃ  `all`.
    * Ngay láº­p tá»©c, á»©ng dá»¥ng gá»­i tiáº¿p má»™t **yÃªu cáº§u máº¡ng láº§n 2** Ä‘á»ƒ láº¥y danh sÃ¡ch cÃ¡c **bÃ i viáº¿t Facebook** (`getFacebookPosts`).
3.  **Xá»­ lÃ½ Pháº£n há»“i Láº§n 2 vÃ  Gá»™p dá»¯ liá»‡u**:
    * Khi server tráº£ vá» danh sÃ¡ch bÃ i viáº¿t Facebook, á»©ng dá»¥ng sáº½ **ná»‘i** danh sÃ¡ch nÃ y vÃ o cuá»‘i danh sÃ¡ch `all` Ä‘Ã£ cÃ³ tá»« bÆ°á»›c 2.
    * BÃ¢y giá», danh sÃ¡ch `all` chá»©a cáº£ bÃ i bÃ¡o vÃ  bÃ i viáº¿t Facebook.
4.  **Cáº­p nháº­t Giao diá»‡n**: ToÃ n bá»™ danh sÃ¡ch `all` Ä‘Æ°á»£c Ä‘Æ°a cho `newsAdapter`. `newsAdapter` nháº­n láº¥y dá»¯ liá»‡u nÃ y vÃ  báº¯t Ä‘áº§u quÃ¡ trÃ¬nh hiá»ƒn thá»‹ tá»«ng má»¥c lÃªn `RecyclerView`.

***

### **3. Giai Ä‘oáº¡n Hiá»ƒn thá»‹ vÃ  Chá» â³**

Sau khi `loadAllNews()` hoÃ n táº¥t, mÃ n hÃ¬nh chÃ­nh á»Ÿ tráº¡ng thÃ¡i á»•n Ä‘á»‹nh:
* TiÃªu Ä‘á» lÃ  **"Má»›i vÃ  Hot"**.
* Danh sÃ¡ch hiá»ƒn thá»‹ lÃ  má»™t há»—n há»£p cÃ¡c bÃ i bÃ¡o vÃ  bÃ i viáº¿t Facebook.
* á»¨ng dá»¥ng bÃ¢y giá» khÃ´ng lÃ m gÃ¬ cáº£, chá»‰ chá» ngÆ°á»i dÃ¹ng thá»±c hiá»‡n má»™t hÃ nh Ä‘á»™ng.

***

### **4. Giai Ä‘oáº¡n Xá»­ lÃ½ TÆ°Æ¡ng tÃ¡c ngÆ°á»i dÃ¹ng ğŸ‘†**

ÄÃ¢y lÃ  cÃ¡c luá»“ng sáº½ xáº£y ra tÃ¹y thuá»™c vÃ o hÃ nh Ä‘á»™ng cá»§a ngÆ°á»i dÃ¹ng.

#### **Luá»“ng A: NgÆ°á»i dÃ¹ng nháº¥n vÃ o icon Menu (`ivMenu`)**

1.  HÃ m `toggleMode()` Ä‘Æ°á»£c gá»i.
2.  Biáº¿n `isClusterMode` Ä‘Æ°á»£c Ä‘áº£o ngÆ°á»£c giÃ¡ trá»‹ (tá»« `false` thÃ nh `true`).
3.  á»¨ng dá»¥ng kiá»ƒm tra: vÃ¬ `isClusterMode` bÃ¢y giá» lÃ  `true`, nÃ³ sáº½:
    * Äá»•i `TextView` tiÃªu Ä‘á» thÃ nh **"Cá»¥m tin"**.
    * **Thay tháº¿** `newsAdapter` báº±ng `clusterAdapter` trong `RecyclerView`.
    * Gá»i hÃ m `loadClusters()` Ä‘á»ƒ táº£i dá»¯ liá»‡u cÃ¡c cá»¥m tin tá»« server vÃ  hiá»ƒn thá»‹ lÃªn danh sÃ¡ch.
4.  Náº¿u ngÆ°á»i dÃ¹ng nháº¥n vÃ o icon Menu **má»™t láº§n ná»¯a**, `isClusterMode` láº¡i Ä‘áº£o thÃ nh `false`, vÃ  á»©ng dá»¥ng sáº½ quay trá»Ÿ láº¡i tráº¡ng thÃ¡i hiá»ƒn thá»‹ "Má»›i vÃ  Hot" nhÆ° ban Ä‘áº§u.

#### **Luá»“ng B: NgÆ°á»i dÃ¹ng nháº¥n vÃ o má»™t bÃ i bÃ¡o trong danh sÃ¡ch**

1.  `newsAdapter` nháº­n Ä‘Æ°á»£c sá»± kiá»‡n click vÃ  bÃ¡o láº¡i cho `MainActivity`.
2.  HÃ m `openDetail(NewsItem)` Ä‘Æ°á»£c thá»±c thi vá»›i thÃ´ng tin cá»§a chÃ­nh bÃ i bÃ¡o Ä‘Ã£ Ä‘Æ°á»£c nháº¥n.
3.  HÃ m nÃ y táº¡o má»™t `Intent` Ä‘á»ƒ chuyá»ƒn sang `DetailActivity`.
4.  NÃ³ "Ä‘Ã³ng gÃ³i" cÃ¡c dá»¯ liá»‡u quan trá»ng cá»§a bÃ i bÃ¡o (tiÃªu Ä‘á», áº£nh, ná»™i dung, URL...) vÃ o `Intent`.
5.  Cuá»‘i cÃ¹ng, nÃ³ gá»i `startActivity()` Ä‘á»ƒ má»Ÿ mÃ n hÃ¬nh chi tiáº¿t bÃ i bÃ¡o.

#### **Luá»“ng C: NgÆ°á»i dÃ¹ng nháº¥n vÃ o icon TÃ i khoáº£n (`btnAccount`)**

1.  Má»™t `Intent` Ä‘Æ¡n giáº£n Ä‘Æ°á»£c táº¡o ra Ä‘á»ƒ chuyá»ƒn sang `ProfileActivity`.
2.  `startActivity()` Ä‘Æ°á»£c gá»i vÃ  ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c Ä‘Æ°a Ä‘áº¿n mÃ n hÃ¬nh thÃ´ng tin cÃ¡ nhÃ¢n.
